<section class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="side-nav-bar">
                <mat-accordion>
                    <mat-expansion-panel (opened)="panelOpenState = true"
                                         (closed)="panelOpenState = false">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <div class="cat-head">
                              Categories
                          </div>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <div class="expanded-div">
                          <!-- level one -->
                        <mat-accordion *ngFor="let cat of categories">
                            <mat-expansion-panel (opened)="panelOpenState = true"
                                                 (closed)="panelOpenState = false" #subCat>
                              <mat-expansion-panel-header>
                                <mat-panel-title>
                                  <div class="cat-head">
                                      {{cat.name}}
                                  </div>
                                  <div *ngIf="cat.children.length == 0">
                                      No item to show
                                  </div>
                                </mat-panel-title>
                                <mat-panel-description> 
                                    <span class="plus" *ngIf="!subCat.expanded">+</span>
                                    <span class="minus" *ngIf="subCat.expanded">-</span>
                                  </mat-panel-description>
                              </mat-expansion-panel-header>
                              <div class="expanded-div">
                                  <!-- level two -->
                                <mat-accordion *ngFor="let child of cat.children">
                                    <mat-expansion-panel (opened)="panelOpenState = true"
                                                         (closed)="panelOpenState = false" #subCat>
                                      <mat-expansion-panel-header>
                                        <mat-panel-title>
                                          <div class="cat-head">
                                              {{child.name}}
                                          </div>
                                          <div *ngIf="child.children == undefined">
                                              No item to show
                                          </div>
                                        </mat-panel-title>
                                        <mat-panel-description> 
                                            <span class="plus" *ngIf="!subCat.expanded">+</span>
                                            <span class="minus" *ngIf="subCat.expanded">-</span>
                                          </mat-panel-description>
                                      </mat-expansion-panel-header>
                                      <div class="expanded-div">
                                          <!-- level three -->
                                        <div *ngFor="let item of child.children">
                                            <a [routerLink]="['/products/category/', child.id]" (click)="getProdOnFilter();">
                                                {{item.name}}
                                            </a>
                                        </div>
                                        <div *ngIf="item.children == undefined">
                                            No item to show
                                        </div>
                                      </div>
                                    </mat-expansion-panel>
                                  </mat-accordion>
                              </div>
                            </mat-expansion-panel>
                          </mat-accordion>
                      </div>
                    </mat-expansion-panel>
                  </mat-accordion>                  
            </div>
        </div>
        <!-- <div *ngFor="let child of cat.children">
            <a [routerLink]="['/products/category/', child.id]" (click)="getProdOnFilter();">
                {{child.name}}
            </a>
        </div>
        <div *ngIf="cat.children.length == 0">
            No item to show
        </div> -->
        <div class="col-md-9">
            <app-product-list [products]="products" [prodEnd]="prodEnd" [prodInRow6]="prodInRow6"></app-product-list>
        </div>
    </div>
</section>