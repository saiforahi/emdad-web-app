<!--21st march 2021-->
<section class="ticket-view">
  <app-breadcrumbs [directoryString]="'Raise a Support Ticket'"></app-breadcrumbs>
 <div class="table-view">
   <div class="container">
    <div class="row">
      <div class="col-md-12 col-lg-5 col-sm-12 col-12">
        <h4 class="head">Raise A Support Ticket</h4>
      </div>
      <div class="col-md-12 col-lg-7 col-sm-12 col-12 d-flex justify-content-end sort-btn">
        <button mat-raised-button class="ticket-btn" [routerLink]="['/open-ticket/']" >
          Open a new ticket
        </button>
        <button mat-stroked-button class="filterBtn" (click)="sortTable();">Filter by Status <mat-icon>expand_more</mat-icon></button>
      </div>
    </div>
    <!--table-view-->
    <section class="card mb-5 mat-elevation-z8">
      <table mat-table [dataSource]="supportTicketData | slice: lowValue : highValue" >
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>Ticket ID</th>
          <td mat-cell *matCellDef="let element">#{{element.issue_code}}</td>
        </ng-container>
    
        <!-- Subject Column -->
        <ng-container matColumnDef="subject">
          <th mat-header-cell *matHeaderCellDef>Subject</th>
          <td mat-cell *matCellDef="let element"><span class="mobile-row">{{element.title | slice:0:10}}{{element.title.length>10?'...':''}}</span> <span class="normal">{{element.title}}</span></td>
        </ng-container>
    
        <!-- status Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element"> <span *ngIf="element.status == 0">Running</span>
            <span *ngIf="element.status == 1">Completed</span>
            <span *ngIf="element.status == null"> - </span>
          </td>
        </ng-container>
    
     
        <!--VIEW RFQ DETAILS MODAL BUTTON-->
        <ng-container matColumnDef="view">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element">
            <button class="edit-product-btn"  mat-button (click)="openDialog(element)" align="right">View</button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
      <!-- PAGINATOR -->
      
    <div *ngIf="supportTicketData != null">
        <mat-paginator *ngIf="supportTicketData != undefined || supportTicketData != null" [length]="supportTicketData.length" [pageSize]="10"
          [pageSizeOptions]="[5, 10, 15,20]" (page)="getPaginatorData($event)">
        </mat-paginator>
      </div>
      <div class="no-data" *ngIf="supportTicketData == undefined || supportTicketData == null">
        No data available
      </div>
    
    
    
    </section>
   </div>
 </div>
</section>