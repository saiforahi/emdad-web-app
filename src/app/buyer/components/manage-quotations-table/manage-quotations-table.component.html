<!-- <div class="row">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Quotation ID</th>
        <th scope="col">Date</th>
        <th scope="col">RFQ ID</th>
        <th scope="col">Seller Name</th>
        <th scope="col">Status</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let quotation of quotationDetails; let i = index" class="highlighted">
        <th scope="row">{{ quotation.id }}</th>
        <td>
          {{ formatDate(quotation.created_at) }}
        </td>
        <td>{{ quotation.rfq !== undefined ? quotation.rfq[0].id : "" }}</td>
        <td>
          {{ quotation.seller !== undefined ? quotation.seller.full_name : "" }}
        </td>
        <td *ngIf="quotation.status === 1">Initiated</td>
        <td *ngIf="quotation.status === 2">Sent</td>
        <td *ngIf="quotation.status === 3">Completed</td>
        <td>
          <button class="btn btn-primary" type="button" (click)="show_quotation_details(i)">
            view
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div> -->

<section>
  <div class="card-body">
    <table mat-table [dataSource]="quotationData | slice: lowValue:highValue">
      <!-- quotation id Column -->
      <ng-container matColumnDef="Quotation ID">
        <th mat-header-cell *matHeaderCellDef>Quotation ID</th>
        <td mat-cell *matCellDef="let element">#{{ element.id }}</td>
      </ng-container>

      <!-- date Column -->
      <ng-container matColumnDef="Date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let element">
          {{ element.created_at | date }}
        </td>
      </ng-container>

      <!--rfq id Column -->
      <ng-container matColumnDef="RFQ ID">
        <th mat-header-cell *matHeaderCellDef>RFQ ID</th>
        <td mat-cell *matCellDef="let element">
          {{ element.rfq[0].id }}
        </td>
      </ng-container>
      <!-- buyer name Column -->
      <ng-container matColumnDef="Seller Name">
        <th mat-header-cell *matHeaderCellDef>Seller Name</th>
        <td mat-cell *matCellDef="let element">
          {{ element.seller !== undefined ? element.seller.full_name : "" }}
        </td>
      </ng-container>
      <!--view coloumn-->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.status == 1">Initiated</span>
          <span *ngIf="element.status == 2">Sent</span>
          <span *ngIf="element.status == 3"> Completed</span>
          <span *ngIf="element.status == null"> - </span>
        </td>
      </ng-container>
      <ng-container matColumnDef="view">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element; let i = index">
          <button
            class="edit-product-btn"
            mat-button
            (click)="show_quotation_details(i)"
            align="right"
          >
            View
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      *ngIf="quotationData != undefined || quotationData != null"
      [length]="quotationData.length"
      [pageSize]="5"
      [pageSizeOptions]="[5, 10, 20]"
      (page)="getPaginatorData($event)"
      showFirstLastButtons
    ></mat-paginator>
    <div
      class="no-data"
      *ngIf="quotationData == undefined || quotationData == null"
    >
      No data available
    </div>
  </div>
</section>

<div
  class="modal animated fadeIn"
  id="quotationDetails"
  role="dialog"
  tabindex="-1"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content shadow-lg rounded-0">
      <!-- <div style="border: none;" class="modal-header text-center">
                <button (click)=hideModal(); type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div> -->
      <div class="modal-body row d-flex flex-column" *ngIf="quotation">
        <div class="justify-content-between">
          <p class="d-inline-block">
            <span>Quotation ID:</span> {{ quotation.id }}
          </p>
          <button
            (click)="hideModal()"
            type="button"
            class="btn float-right"
            style="margin-top: -2px; margin-right: -4px"
          >
            <img src="../../../../assets/close-dark.svg" alt="" />
          </button>
        </div>
        <p><span>RFQ ID:</span> {{ quotation.rfq[0].id }}</p>
        <p><span>Date:</span> {{ formatDate(quotation.created_at) }}</p>
        <p><span>Product Name:</span> {{ quotation.product.name }}</p>
        <p><span>Seller Name:</span> {{ quotation.seller.full_name }}</p>
        <p><span>Quantity:</span> {{ quotation.quantity }}</p>
        <p><span>Unit Price:</span> {{ quotation.unit_price }}</p>
        <p><span>Total Price:</span> {{ quotation.total_price }}</p>
        <!-- <p><span>Attachments:</span></p> -->
        <div class="form-group deny-input">
          <label class="form-label">Comments</label>
          <textarea
            class="comment-textarea form-control"
            placeholder="Please tell us why you want to deny..."
          ></textarea>
        </div>
      </div>
      <div class="btn-div">
        <button type="button" mat-raised-button [disabled]="true">
          Accept
        </button>
        <button type="button" mat-raised-button [disabled]="true">Deny</button>
      </div>
      <!-- <div class="btn-group flex-left">
                <button class="btn">Add</button>
                <button class="btn" type="button">Deny</button>
            </div> -->
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div> -->
    </div>
  </div>
</div>
