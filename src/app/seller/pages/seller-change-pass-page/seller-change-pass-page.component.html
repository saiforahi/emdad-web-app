<section>
    <h2 class="page-heading">Change Password</h2>
</section>
<section class="card mb-5">
    <form [formGroup]="changePassForm" (ngSubmit)="onSubmit(changePassForm.value)">
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text"><i class="fas fa-unlock-alt"></i></div>
                        </div>
                        <!-- password -->
                        <input id="password" [type]="showPassState ? 'text' : 'password'"
                            class="form-control form-control-md" formControlName="password" required
                            (keyup)="matchBothPassord(password.value, confPassword.value)" />
                        <div class="input-group-prepend" *ngIf="!showPassState" (click)="showPass();">
                            <div class="input-group-text">
                                <i class="fas fa-eye"></i>
                            </div>
                        </div>
                        <div class="input-group-prepend" *ngIf="showPassState" (click)="hidePass();">
                            <div class="input-group-text">
                                <i class="fas fa-eye-slash"></i>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="password.invalid && (password.dirty || password.touched)">
                        <div *ngIf="password.errors?.required">
                            <app-form-input-alert [alertMsg]="'Password is required.'"></app-form-input-alert>
                        </div>
                        <!-- <div *ngIf="password.errors?.minLength">
                            <app-form-input-alert [alertMsg]="'password length is minimum 8 characters.'">
                            </app-form-input-alert>
                        </div> -->
                    </div>
                    <div *ngIf="passMatched && confPassword.value != ''">
                        <app-form-input-alert [alertMsg]="'Both password should match!'"></app-form-input-alert>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label for="password">Confirm Password</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text"><i class="fas fa-unlock-alt"></i></div>
                        </div>
                        <!-- confirm password -->
                        <input id="confPassword" [type]="confShowPassState ? 'text' : 'password'"
                            class="form-control form-control-md" formControlName="confPassword" required
                            (keyup)="matchBothPassord(password.value, confPassword.value)" />
                        <div class="input-group-prepend" *ngIf="!confShowPassState" (click)="confShowPass();">
                            <div class="input-group-text">
                                <i class="fas fa-eye"></i>
                            </div>
                        </div>
                        <div class="input-group-prepend" *ngIf="confShowPassState" (click)="confHidePass();">
                            <div class="input-group-text">
                                <i class="fas fa-eye-slash"></i>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="confPassword.invalid && (confPassword.dirty || confPassword.touched)">
                        <div *ngIf="confPassword.errors?.required">
                            <app-form-input-alert [alertMsg]="'Confirm password.'"></app-form-input-alert>
                        </div>
                        <!-- <div *ngIf="confPassword.errors?.minLength">
                            <app-form-input-alert [alertMsg]="'password length is minimum 8 characters.'">
                            </app-form-input-alert>
                        </div> -->
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text"><i class="fas fa-unlock-alt"></i></div>
                        </div>
                        <!-- confirm password -->
                        <input id="newPassword" [type]="confShowPassState ? 'text' : 'password'"
                            class="form-control form-control-md" formControlName="newPassword" required
                            (keyup)="matchBothPassord(password.value, newPassword.value)" />
                        <div class="input-group-prepend" *ngIf="!confShowPassState" (click)="confShowPass();">
                            <div class="input-group-text">
                                <i class="fas fa-eye"></i>
                            </div>
                        </div>
                        <div class="input-group-prepend" *ngIf="confShowPassState" (click)="confHidePass();">
                            <div class="input-group-text">
                                <i class="fas fa-eye-slash"></i>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="newPassword.invalid && (newPassword.dirty || newPassword.touched)">
                        <div *ngIf="newPassword.errors?.required">
                            <app-form-input-alert [alertMsg]="'Confirm password.'"></app-form-input-alert>
                        </div>
                        <!-- <div *ngIf="newPassword.errors?.minLength">
                            <app-form-input-alert [alertMsg]="'password length is minimum 8 characters.'">
                            </app-form-input-alert>
                        </div> -->
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="form-group">
                    <button type="submit" mat-raised-button class="btn btn-primary btn-md btn-block login_btn"
                        [disabled]="changePassForm.invalid || passMatched">
                        Save
                    </button>
                </div>
            </div>
        </div>
    </form>
</section>