<section class="page-heading-holder">
  <h2 class="page-heading d-inline-block">Manage RFQs</h2>
  <div class="sort-btn d-inline-block">
    <button mat-stroked-button class="sort-btn" (click)="sortTable()">Sort by Date <mat-icon>expand_more</mat-icon></button>
  </div>
</section>
<section class="card mb-5 mat-elevation-z8">
  <table mat-table [dataSource]="rfqTableData | slice: lowValue : highValue" class="">
    <!-- RFQ Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>RFQ ID</th>
      <td mat-cell *matCellDef="let element">#{{element.quotation_code }}</td>
    </ng-container>

    <!-- date Column -->
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef>Date</th>
      <td mat-cell *matCellDef="let element">{{element.created_at | date}}</td>
    </ng-container>

    <!-- status Column -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let element"> <span *ngIf="element.rfq[0].status == true">Sent</span>
        <span *ngIf="element.rfq[0].status == false">Completed</span>
        <span *ngIf="element.rfq[0].status == null"> - </span>
      </td>
    </ng-container>

    <!-- Buyer Name Column -->
    <ng-container matColumnDef="buyer">
      <th mat-header-cell *matHeaderCellDef>Buyer Name</th>
      <td mat-cell *matCellDef="let element">{{element.buyer.full_name}}</td>
    </ng-container>
    <!--VIEW RFQ DETAILS MODAL BUTTON-->
    <ng-container matColumnDef="view">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element">
        <button class="edit-product-btn" mat-button (click)="openDialog(element)">View</button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <!-- PAGINATOR -->
  
<div *ngIf="rfqTableData">
    <mat-paginator *ngIf="rfqTableData != undefined" [length]="rfqTableData.length" [pageSize]="10"
      [pageSizeOptions]="[5, 10, 15,20]" (page)="getPaginatorData($event)">
    </mat-paginator>
  </div>
  <div class="no-data" *ngIf="rfqTableData == undefined">
    No data available
  </div>



</section>